# 🎓 DOCGODAI 멀티 페이지 Frontend 가이드

## 📁 파일 구성

- **frontend_multi_page.html** - 페이지 분할형 학습 플랫폼 (Course → Chapter → Learning 흐름)
- **frontend_demo.html** - 단일 페이지 학습 플랫폼 (기존 버전)
- **webhook_simulator.html** - n8n AI 응답 시뮬레이터

## 🎯 차이점

### 기존 (frontend_demo.html)
```
한 페이지에 모든 기능
├── 회원가입/로그인
├── 질문하기
├── 내 질문 목록
└── 학습 페이지
```

### 새 버전 (frontend_multi_page.html)
```
페이지 분할 + 네비게이션
├── 로그인 페이지
├── 강의 목록 페이지 (Course List)
│   └── 클릭 → 챕터 목록 페이지
├── 챕터 목록 페이지 (Chapter List)
│   └── 클릭 → 학습 페이지
└── 학습 페이지 (Learning)
    ├── 개념 정리
    ├── 실습 과제
    └── 퀴즈
```

---

## 🚀 실행 방법

### 1. 백엔드 서버 실행

```bash
cd /Users/parkjunseo/Hack-DOCGODAI/backend
python3 main.py
```

서버가 `http://localhost:8000` 에서 실행됩니다.

### 2. 프론트엔드 열기

```bash
open frontend_multi_page.html
```

또는 파일 탐색기에서 `frontend_multi_page.html` 더블클릭

---

## 📝 사용 플로우

### Step 1: 로그인 페이지

**회원가입**
```
이메일: student@example.com
비밀번호: password123
```

**로그인**
```
동일한 이메일/비밀번호로 로그인
```

✅ **결과**: 강의 목록 페이지로 자동 이동

---

### Step 2: 강의 목록 페이지 (Course List)

**화면 구성**:
- 상단: Navigation Bar (로그인한 사용자 이메일, Socket.IO 연결 상태)
- Breadcrumb: `🏠 홈`
- "➕ 새 강의 만들기" 버튼
- 강의 카드들 (그리드 레이아웃)

**강의 카드 정보**:
- 강의 제목
- 강의 설명
- 상태 배지 (완료/생성 중)
- 난이도 배지
- 챕터 수

**동작**:
1. "➕ 새 강의 만들기" 클릭 → 챕터 생성 페이지로 이동
2. 강의 카드 클릭 → 해당 강의의 챕터 목록으로 이동

---

### Step 3: 새 강의/챕터 만들기

**입력 필드**:
- **질문 / 주제**: `파이썬 리스트와 튜플의 차이가 뭐예요?`
- **추가 설명** (선택): `자세히 설명해주세요`

**버튼**:
- **챕터 만들기**: 질문 등록 및 AI 생성 시작
- **취소**: 이전 페이지로 돌아가기

✅ **결과**:
- 챕터가 생성되고 학습 페이지로 이동
- Socket.IO로 실시간 이벤트 수신 시작
- 강의 목록에 새 강의 추가됨

---

### Step 4: 챕터 목록 페이지

**화면 구성**:
- 강의 제목 및 설명 (상단)
- Breadcrumb: `🏠 홈 > 강의 제목`
- "➕ 새 챕터 추가" 버튼
- "← 강의 목록으로" 버튼
- 챕터 리스트

**챕터 아이템 정보**:
- 챕터 제목 (질문)
- 설명
- 상태 배지 (완료/생성 중)

**동작**:
- 챕터 클릭 → 학습 페이지로 이동
- "➕ 새 챕터 추가" → 챕터 생성 페이지
- "← 강의 목록으로" → 강의 목록 페이지

---

### Step 5: 학습 페이지 (Learning)

**화면 구성**:
- 챕터 제목 및 상태 배지
- Breadcrumb: `🏠 홈 > 강의 제목 > 챕터 제목`
- "← 챕터 목록으로" 버튼

**학습 섹션**:

#### 🎓 개념 정리
```
AI가 생성한 개념 설명이 표시됩니다.
예: "리스트 vs 튜플
     리스트는 mutable(가변)이고 튜플은 immutable(불변)입니다."
```

#### 💻 실습 과제
```
AI가 생성한 실습 문제가 표시됩니다.
예: "문제: 다음 리스트를 튜플로 변환하는 코드를 작성하세요"
```

#### ✅ 퀴즈
```
AI가 생성한 퀴즈 문제와 선택지가 표시됩니다.
○ 선택지 1
○ 선택지 2
[정답 제출] 버튼
```

**동작**:
- 초기 상태: "AI가 ~ 생성 중입니다..." 표시
- Socket.IO 이벤트 수신 시 자동 업데이트
- 퀴즈 답 선택 후 "정답 제출" → 채점 결과 표시

---

### Step 6: AI 콘텐츠 생성 (Webhook 시뮬레이션)

**새 브라우저 탭에서** `webhook_simulator.html` 열기

1. Chapter ID 입력 (예: `1`)
2. "모든 Webhook 한번에 전송" 버튼 클릭
3. frontend_multi_page.html 탭으로 돌아가기

✅ **결과**:
- 실시간 처리 현황 섹션에서 완료 이벤트 확인
- 학습 페이지 자동 업데이트
- 모든 섹션에 AI 생성 콘텐츠 표시

---

## 🎨 UI/UX 특징

### 1. Navigation Bar
- 로고: 🎓 DOCGODAI
- 사용자 정보: 이메일 표시
- Socket.IO 상태: 초록색/빨간색 점
- 로그아웃 버튼

### 2. Breadcrumb Navigation
```
🏠 홈
🏠 홈 > 강의 제목
🏠 홈 > 강의 제목 > 챕터 제목
```
- 클릭 가능한 링크
- 현재 위치 표시

### 3. Page Transitions
- JavaScript로 페이지 전환 (SPA 방식)
- 부드러운 화면 전환
- URL 변경 없이 상태 관리

### 4. 실시간 Socket.IO 이벤트
- 강의 목록 페이지 하단에 표시
- 최근 20개 이벤트 자동 스크롤
- 타임스탬프 포함

### 5. 반응형 디자인
- 그리드 레이아웃 (모바일에서 1열로 전환)
- 카드 호버 효과
- 그라디언트 배경

---

## 🔄 페이지 흐름도

```
┌─────────────┐
│ 로그인 페이지 │
└──────┬──────┘
       │ 로그인
       ▼
┌──────────────┐
│ 강의 목록 페이지 │ ← 홈
└───┬──────┬───┘
    │      │
    │      └─→ 새 강의 만들기 → 챕터 생성 페이지
    │                                │
    │                                ▼
    │ 강의 카드 클릭              학습 페이지
    │                                ▲
    ▼                                │
┌──────────────┐                     │
│ 챕터 목록 페이지 │ ─→ 챕터 클릭 ──────┘
└──────────────┘
    ▲
    │ 새 챕터 추가
    │
챕터 생성 페이지
```

---

## 📊 백엔드 vs 프론트엔드 구조

### 백엔드 (실제 데이터베이스)
```
Member
  └── Chapter (질문)
      ├── Concept (1:1)
      ├── Exercise (1:1)
      └── Quiz (1:1)
```

### 프론트엔드 (UI 표현)
```
Member
  └── Course (강의) ← Frontend에서만 존재
      └── Chapter (챕터)
          ├── Concept
          ├── Exercise
          └── Quiz
```

**구현 방식**:
- 각 Chapter를 하나의 "Course"로 취급
- `state.courses` 배열에서 Chapter들을 Course처럼 표시
- 실제 API 호출은 `/v1/chapter/` 사용

---

## 🎯 주요 기능

### ✅ 구현된 기능
1. **페이지 분할 네비게이션**
   - SPA 방식 페이지 전환
   - Breadcrumb 자동 업데이트
   - 뒤로 가기 버튼

2. **강의 목록 페이지**
   - 그리드 카드 레이아웃
   - 상태 배지 (완료/생성 중)
   - 난이도 표시

3. **챕터 목록 페이지**
   - 리스트 레이아웃
   - 호버 효과
   - 상태 표시

4. **학습 페이지**
   - 3개 섹션 (개념/실습/퀴즈)
   - 실시간 자동 업데이트
   - 퀴즈 제출 및 채점

5. **실시간 Socket.IO**
   - 이벤트 로그
   - 자동 페이지 리로드
   - 연결 상태 표시

---

## 🐛 문제 해결

### 페이지가 전환되지 않음
- 브라우저 콘솔(F12) 확인
- JavaScript 에러 확인
- 백엔드 서버 실행 상태 확인

### Socket.IO 연결 안됨
- 백엔드 서버 확인: `http://localhost:8000/health`
- CORS 설정 확인
- 브라우저 콘솔에서 WebSocket 에러 확인

### Webhook 시뮬레이션 안됨
- Chapter ID가 올바른지 확인
- `webhook_simulator.html` 사용
- 백엔드 로그 확인

---

## 🆚 버전 비교

| 기능 | frontend_demo.html | frontend_multi_page.html |
|------|-------------------|--------------------------|
| 페이지 구조 | 단일 페이지 | 멀티 페이지 (SPA) |
| 네비게이션 | 섹션 표시/숨김 | 페이지 전환 |
| Breadcrumb | ❌ | ✅ |
| 강의 개념 | ❌ | ✅ (Frontend only) |
| 챕터 목록 | 리스트 | 별도 페이지 |
| UI/UX | 기본 | 향상됨 (카드, 그리드) |
| 학습 플로우 | 직접적 | 단계별 |

---

## 🎉 완료!

이제 **Course → Chapter → Learning** 흐름으로 학습 플랫폼을 사용할 수 있습니다!

**주요 차이점**:
- ✅ 페이지가 분할되어 있어 집중도 향상
- ✅ 단계별 네비게이션으로 직관적인 UX
- ✅ Breadcrumb으로 현재 위치 파악 용이
- ✅ 카드 레이아웃으로 시각적 개선

**백엔드는 그대로**:
- 기존 API 모두 호환
- 데이터베이스 구조 변경 없음
- Webhook 시뮬레이터 동일하게 사용

**다음 단계**:
- Kafka 통합하여 자동 AI 생성
- n8n 워크플로우 연결
- 실제 Gemini AI 호출
